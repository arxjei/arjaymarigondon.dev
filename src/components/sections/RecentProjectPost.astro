---
import { getRecentProjects } from "@lib/projects";

import ProjectList from "@components/projects/ProjectList.astro";
import BrutalCard from "@components/BrutalCard.astro";
import BrutalButton from "@components/BrutalButton.astro";

interface Props {
	count?: number;
}

const { count } = Astro.props;

const projects = await getRecentProjects(count ?? 4);
---

<section id="recent-projects">
	<BrutalCard class="!bg-lime-400 !drop-shadow-none !py-4 !px-6">
		<div class="flex justify-between items-centermb-5">
			<h1 class="text-6xl mb-2">Projects</h1>
			<div class="hidden md:block">
				<BrutalButton href="/projects/">More Projects</BrutalButton>
			</div>
			<div class="block md:hidden">
				<BrutalButton href="/projects/">More</BrutalButton>
			</div>
		</div>
		<ProjectList projects={projects} />
	</BrutalCard>
</section>
