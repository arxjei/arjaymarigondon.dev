---
import Layout from "./Default.astro";
import ProjectSideBar from "@components/project/ProjectSideBar.astro";
import ProjectContent from "@components/project/ProjectContent.astro";
import RecentProjectPost from "@components/generic/RecentProjectPost.astro";

const ogImage = new URL(`/v1/generate/og/${Astro.params.slug}.png`, Astro.url);

interface Props {
	title: string;
	headings: unknown;
	description: string;
	pubDate: Date;
	author: string;
	viewLiveDemoLink: string | undefined;
}

const { author, pubDate, headings, description, title, viewLiveDemoLink } =
	Astro.props;
---

<Layout
	title={title}
	description={description}
	ogImage={ogImage}>
	<main
		class="lg:grid lg:grid-cols-5 min-h-screen bg-gradient-to-b from-white to-gray-50">
		<ProjectSideBar headings={headings as any[]} />
		<ProjectContent
			{pubDate}
			{author}
			{viewLiveDemoLink}>
			<slot />
		</ProjectContent>
	</main>

	<RecentProjectPost count={6} />
</Layout>
